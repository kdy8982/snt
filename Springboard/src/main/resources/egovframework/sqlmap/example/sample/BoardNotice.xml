<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="BoardNotice">
    
   	<typeAlias alias="egovMap"
		type="egovframework.rte.psl.dataaccess.util.EgovMap" />
	<typeAlias alias="BoardNoticeVO" type="com.snt.Springboard.domain.BoardNoticeVO" />
	
	<resultMap id="boardNotice" class="com.snt.Springboard.domain.BoardNoticeVO">
		<result property="notice_board_title" column="notice_board_title" />
		<result property="department_name" column="department_name" />
		<result property="notice_board_create_date" column="notice_create_date" />
		<result property="notice_board_name" column="notice_board_name" />
		<result property="employee_name" column="employee_name" />
		<result property="notice_board_id" column="notice_board_id" />
		<result property="department_id" column="department_id" />
		<result property="employee_id" column="employee_id" />
		<result property="notice_board_content" column="notice_board_content" />
	</resultMap>
	
	<select id="boardNoticeDao.selectBoardNotice" resultClass="boardNoticeVO"
		parameterClass="boardNoticeVO">
		select
		A.notice_board_id, A.notice_board_title, A.notice_board_content, B.department_name,
		C.employee_name,
		to_char(A.notice_board_create_date, 'yyyy-mm-dd')
		notice_board_create_date,
		A.notice_board_name
		from notice_board A, department B, employee C
		where
		A.department_id = B.department_id and A.employee_id =
		C.employee_id
		and A.notice_board_id = #notice_board_id# 
	</select>
	<insert id="boardNoticeDao.insertBoardNotice" parameterClass="boardNoticeVO">
		<![CDATA[
			INSERT INTO NOTICE_BOARD
				( NOTICE_BOARD_ID 
				  , NOTICE_BOARD_TITLE
				  , DEPARTMENT_ID
				  , NOTICE_BOARD_CREATE_DATE
				  , NOTICE_BOARD_NAME
				  , EMPLOYEE_ID
				  , NOTICE_BOARD_CONTENT )
			VALUES (
				notice_board_seq.nextval,
				#notice_board_title#,
				#department_id#,
				TO_DATE(sysdate),
				'공지',
				#employee_id#,
				#notice_board_content#)
		]]>
	</insert>
	<update id="boardNoticeDao.updateBoardNotice" parameterClass="boardNoticeVO">
		<![CDATA[
			UPDATE NOTICE_BOARD
			SET 
			NOTICE_BOARD_TITLE=#notice_board_title#
		  , NOTICE_BOARD_CONTENT=#notice_board_content#
			WHERE NOTICE_BOARD_ID=#notice_board_id#
		]]>
	</update>
	<delete id="boardNoticeDao.deleteBoardNotice">
	    delete from 
	    notice_board where notice_board_id=#notice_board_id#
	</delete>
</sqlMap>
	